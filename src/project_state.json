{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "College notes sharing portal with Internet Identity auth and role-based moderation: users submit notes for review, verified notes are publicly browsable with subject/unit filters, and users can save notes for offline access.",
  "architectural_notes": [
    "Use Internet Identity for authentication; represent roles (regular user vs moderator) and enforce authorization server-side in addition to UI gating.",
    "Notes have a moderation lifecycle (pending/verified/rejected) and public browsing must only query verified notes.",
    "Offline access requires client-side persistence (e.g., cache/storage) so saved notes remain available after reload while offline.",
    "Store attachment metadata with notes; note details should reference attachment/content via metadata."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "imageRequirements": "## Required Images\n- College notes portal logo mark with warm earthy palette (notes-logo.dim_256x256.png)\n- Friendly campus-themed flat illustration with books and papers, warm earthy palette (notes-illustration.dim_1200x800.png)",
  "existing_features": [
    {
      "id": "feature-add-internet-identity-authentication-to-the-app-ui-sign-in-sign-out-and-enforce-authenticated-access-for-note-submission-my-submissions-moderator-actions-and-offline-saving-reflect-authentication-state-clearly-in-the-header-signed-out-vs-signed-in-principal",
      "title": "Add Internet Identity authentication to the app UI (sign in / sign out) and enforce authenticated access for note submission, “My submissions”, moderator actions, and offline saving. Reflect authentication state clearly in the header (signed out vs signed in principal).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-role-based-access-control-with-two-roles-regular-user-and-moderator-determine-moderator-status-in-the-backend-and-expose-a-read-method-so-the-frontend-can-conditionally-show-moderator-navigation-and-actions",
      "title": "Implement role-based access control with two roles: regular user and moderator. Determine moderator status in the backend and expose a read method so the frontend can conditionally show moderator navigation and actions.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-authenticated-note-submission-a-form-with-required-field-validation-for-subject-unit-title-and-description-plus-attachment-metadata-input-at-least-optional-after-submission-the-note-is-stored-as-pending-moderation-under-the-submitting-user",
      "title": "Implement authenticated note submission: a form with required-field validation for subject, unit, title, and description, plus attachment metadata input (at least optional). After submission, the note is stored as pending moderation under the submitting user.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-my-submissions-page-for-signed-in-users-showing-all-notes-they-uploaded-including-current-status-pending-verified-rejected-and-any-rejection-reason-when-present",
      "title": "Add a “My submissions” page for signed-in users showing all notes they uploaded, including current status (pending/verified/rejected) and any rejection reason when present.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-moderator-workflow-a-moderator-only-page-to-list-pending-notes-view-submission-details-and-take-actions-to-verify-or-reject-a-note-rejection-supports-an-optional-reason-verified-notes-must-become-visible-in-the-public-browse-immediately-after-verification",
      "title": "Implement moderator workflow: a moderator-only page to list pending notes, view submission details, and take actions to verify or reject a note. Rejection supports an optional reason. Verified notes must become visible in the public browse immediately after verification.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-build-public-portal-pages-that-display-verified-notes-only-1-a-browse-list-page-with-subject-and-unit-filters-and-2-a-note-detail-page-showing-metadata-subject-unit-title-description-uploader-display-timestamps-attachment-metadata-and-access-to-the-note-s-content-attachments-as-represented-in-the-app",
      "title": "Build public portal pages that display verified notes only: (1) a browse/list page with subject and unit filters, and (2) a note detail page showing metadata (subject, unit, title, description, uploader display, timestamps, attachment metadata) and access to the note’s content/attachments as represented in the app.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-offline-saving-for-signed-in-users-allow-save-remove-on-verified-note-detail-and-or-list-and-add-an-offline-section-listing-saved-notes-saved-notes-must-remain-available-after-a-reload-while-offline-for-previously-saved-items",
      "title": "Implement offline saving for signed-in users: allow save/remove on verified note detail (and/or list) and add an “Offline” section listing saved notes. Saved notes must remain available after a reload while offline (for previously saved items).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-consistent-visual-theme-across-all-pages-with-a-coherent-typography-spacing-and-component-style-system-do-not-use-blue-or-purple-as-the-primary-branding-colors",
      "title": "Apply a consistent visual theme across all pages with a coherent typography, spacing, and component style system; do not use blue or purple as the primary branding colors.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-static-brand-assets-logo-illustration-under-frontend-public-assets-generated-and-display-them-in-the-header-and-at-least-one-empty-state",
      "title": "Generate static brand assets (logo + illustration) under frontend/public/assets/generated and display them in the header and at least one empty state.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Internet Identity sign-in/sign-out with role-based access (user vs moderator) enforced in backend and reflected in UI",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Backend notes model + persistence (subject, unit, title, description, uploader, timestamps, verification status, attachment metadata, optional rejection reason)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Authenticated note submission flow with required-field validation and 'My submissions' status view (incl. rejection reasons)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Moderator workflow: list pending notes, review details, verify or reject with optional reason; verified notes appear publicly",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Public portal pages: browse verified notes only with subject/unit filters, plus note detail view with metadata and content access",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Offline saving: save/remove notes for offline use and an Offline section that works after reload when offline",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Apply consistent visual theme across pages (avoid blue/purple as primary branding colors)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Generate static brand assets (logo + illustration) under frontend/public/assets/generated and display in header and at least one empty state",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Create a backend notes data model and persistence supporting: subject, unit, title, description, uploader, timestamps (created and last-updated), verification status, attachment metadata, and optional rejection reason. Ensure data survives canister upgrades according to the platform’s migration policy.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "College notes sharing portal with moderation, public browsing, and offline saving",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}